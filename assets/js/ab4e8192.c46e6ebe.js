"use strict";(self.webpackChunk_elizaos_docs=self.webpackChunk_elizaos_docs||[]).push([[17075],{6589:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>r,contentTitle:()=>a,default:()=>p,frontMatter:()=>d,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"cli/update","title":"Update Command","description":"Keep your ElizaOS installation current with the latest features and improvements","source":"@site/docs/cli/update.md","sourceDirName":"cli","slug":"/cli/update","permalink":"/docs/cli/update","draft":false,"unlisted":false,"editUrl":"https://github.com/elizaos/eliza/tree/v2-develop/packages/docs/docs/cli/update.md","tags":[],"version":"current","lastUpdatedBy":"madjin","lastUpdatedAt":1743786825000,"sidebarPosition":11,"frontMatter":{"sidebar_position":11,"title":"Update Command","description":"Keep your ElizaOS installation current with the latest features and improvements","keywords":["CLI","update","dependencies","versions","packages","maintenance"],"image":"/img/cli.jpg"},"sidebar":"tutorialSidebar","previous":{"title":"Test","permalink":"/docs/cli/test"},"next":{"title":"Introduction","permalink":"/docs/rest/eliza-os-api"}}');var t=i(31085),l=i(71184);const d={sidebar_position:11,title:"Update Command",description:"Keep your ElizaOS installation current with the latest features and improvements",keywords:["CLI","update","dependencies","versions","packages","maintenance"],image:"/img/cli.jpg"},a="Update Command",r={},c=[{value:"Usage",id:"usage",level:2},{value:"Options",id:"options",level:2},{value:"Update Process",id:"update-process",level:2},{value:"Project Type Detection",id:"project-type-detection",level:2},{value:"Workspace References",id:"workspace-references",level:2},{value:"Examples",id:"examples",level:2},{value:"Check For Updates",id:"check-for-updates",level:3},{value:"Update Dependencies",id:"update-dependencies",level:3},{value:"Skip Building",id:"skip-building",level:3},{value:"Version Management",id:"version-management",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Dependency Resolution Problems",id:"dependency-resolution-problems",level:3},{value:"Build Failures",id:"build-failures",level:3},{value:"Version Mismatches",id:"version-mismatches",level:3},{value:"Related Commands",id:"related-commands",level:2}];function o(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"update-command",children:"Update Command"})}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"update"})," command checks for and updates ElizaOS dependencies in your project or plugin to the latest compatible versions. This helps you keep your ElizaOS installation current with the latest features, improvements, and bug fixes."]}),"\n",(0,t.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"npx @elizaos/cli update [options]\n"})}),"\n",(0,t.jsx)(n.h2,{id:"options",children:"Options"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Option"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"--check"})}),(0,t.jsx)(n.td,{children:"Check for available updates without applying them"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"--skip-build"})}),(0,t.jsx)(n.td,{children:"Skip building the project after updating"})]})]})]}),"\n",(0,t.jsx)(n.h2,{id:"update-process",children:"Update Process"}),"\n",(0,t.jsxs)(n.p,{children:["When you run the ",(0,t.jsx)(n.code,{children:"update"})," command, ElizaOS will:"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Detect whether you're in a project or plugin directory"}),"\n",(0,t.jsx)(n.li,{children:"Find all ElizaOS packages in your dependencies"}),"\n",(0,t.jsx)(n.li,{children:"Update them to match the current CLI version"}),"\n",(0,t.jsx)(n.li,{children:"Install the updated dependencies"}),"\n",(0,t.jsxs)(n.li,{children:["Build the project with the new dependencies (unless ",(0,t.jsx)(n.code,{children:"--skip-build"})," is specified)"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"project-type-detection",children:"Project Type Detection"}),"\n",(0,t.jsx)(n.p,{children:"The update command automatically detects whether you're working with:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Project"}),": A complete ElizaOS project with agents"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Plugin"}),": An ElizaOS plugin that provides extensions"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"It determines this by checking the package.json metadata, particularly:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["If the package name starts with ",(0,t.jsx)(n.code,{children:"@elizaos/plugin-"})]}),"\n",(0,t.jsxs)(n.li,{children:["If keywords include ",(0,t.jsx)(n.code,{children:"elizaos-plugin"})]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"workspace-references",children:"Workspace References"}),"\n",(0,t.jsx)(n.p,{children:"The command properly handles workspace references in monorepo setups:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Packages with versions like ",(0,t.jsx)(n.code,{children:"workspace:*"})," are identified as workspace references"]}),"\n",(0,t.jsx)(n.li,{children:"These are skipped during the update process as they're meant to be managed by the monorepo"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,t.jsx)(n.h3,{id:"check-for-updates",children:"Check For Updates"}),"\n",(0,t.jsx)(n.p,{children:"Check what updates are available without applying them:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"npx @elizaos/cli update --check\n"})}),"\n",(0,t.jsx)(n.p,{children:"Example output:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"Checking for available updates...\nCurrent CLI version: 1.3.5\nTo apply updates, run this command without the --check flag\n"})}),"\n",(0,t.jsx)(n.h3,{id:"update-dependencies",children:"Update Dependencies"}),"\n",(0,t.jsx)(n.p,{children:"Update all ElizaOS dependencies to match the CLI version:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"npx @elizaos/cli update\n"})}),"\n",(0,t.jsx)(n.p,{children:"Example output:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"Detected project directory\nCurrent CLI version: 1.3.5\nFound 5 ElizaOS packages: @elizaos/core, @elizaos/runtime, @elizaos/knowledge, @elizaos/models, @elizaos/plugin-discord\nUpdating @elizaos/core to version 1.3.5...\nUpdating @elizaos/runtime to version 1.3.5...\nUpdating @elizaos/knowledge to version 1.3.5...\nUpdating @elizaos/models to version 1.3.5...\nUpdating @elizaos/plugin-discord to version 1.3.5...\nDependencies updated successfully\nInstalling updated dependencies...\nProject successfully updated to the latest ElizaOS packages\n"})}),"\n",(0,t.jsx)(n.h3,{id:"skip-building",children:"Skip Building"}),"\n",(0,t.jsx)(n.p,{children:"Update dependencies but skip the build step:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"npx @elizaos/cli update --skip-build\n"})}),"\n",(0,t.jsx)(n.h2,{id:"version-management",children:"Version Management"}),"\n",(0,t.jsx)(n.p,{children:"The update command will automatically handle different types of updates:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"For minor or patch updates, it will proceed automatically"}),"\n",(0,t.jsx)(n.li,{children:"For major version updates that might include breaking changes, it will ask for confirmation"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,t.jsx)(n.p,{children:"Here are some recommended practices when updating ElizaOS dependencies:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Check First"}),": Use ",(0,t.jsx)(n.code,{children:"--check"})," to see what updates are available before applying them"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Backup Your Project"}),": Always make a backup of your project before updating"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Test After Updating"}),": Make sure your project works correctly after updating"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Review Changelogs"}),": Check the ElizaOS changelog for any breaking changes in new versions"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,t.jsx)(n.h3,{id:"dependency-resolution-problems",children:"Dependency Resolution Problems"}),"\n",(0,t.jsx)(n.p,{children:"If you encounter issues with dependency resolution:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Run the command with full Node.js error stack traces\nNODE_OPTIONS=--stack-trace-limit=100 npx @elizaos/cli update\n"})}),"\n",(0,t.jsx)(n.h3,{id:"build-failures",children:"Build Failures"}),"\n",(0,t.jsx)(n.p,{children:"If the build fails after updating:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Skip the automatic build and build manually with more verbose output\nnpx @elizaos/cli update --skip-build\nnpx @elizaos/cli build --verbose\n"})}),"\n",(0,t.jsx)(n.h3,{id:"version-mismatches",children:"Version Mismatches"}),"\n",(0,t.jsx)(n.p,{children:"If you need a specific version rather than the latest:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Manually install the specific version needed\nnpm install @elizaos/core@1.2.3\n"})}),"\n",(0,t.jsx)(n.h2,{id:"related-commands",children:"Related Commands"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"/docs/cli/projects",children:(0,t.jsx)(n.code,{children:"build"})}),": Build your project manually"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"/docs/cli/start",children:(0,t.jsx)(n.code,{children:"start"})}),": Start your project with updated dependencies"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"/docs/cli/dev",children:(0,t.jsx)(n.code,{children:"dev"})}),": Run your project in development mode"]}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},71184:(e,n,i)=>{i.d(n,{R:()=>d,x:()=>a});var s=i(14041);const t={},l=s.createContext(t);function d(e){const n=s.useContext(l);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:d(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);