"use strict";(self.webpackChunk_elizaos_docs=self.webpackChunk_elizaos_docs||[]).push([[95896],{71184:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>t});var l=i(14041);const s={},o=l.createContext(s);function r(e){const n=l.useContext(o);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),l.createElement(o.Provider,{value:n},e.children)}},79138:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>t,default:()=>d,frontMatter:()=>r,metadata:()=>l,toc:()=>c});const l=JSON.parse('{"id":"plugins/twilio","title":"@elizaos/plugin-twilio","description":"A Twilio plugin for ElizaOS that enables SMS and voice call capabilities.","source":"@site/packages/plugins/twilio.md","sourceDirName":"plugins","slug":"/plugins/twilio","permalink":"/packages/plugins/twilio","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"defaultSidebar","previous":{"title":"@elizaos/plugin-tts","permalink":"/packages/plugins/tts"},"next":{"title":"@elizaos/plugin-twitter","permalink":"/packages/plugins/twitter"}}');var s=i(31085),o=i(71184);const r={},t="@elizaos/plugin-twilio",a={},c=[{value:"Features",id:"features",level:2},{value:"Installation",id:"installation",level:2},{value:"Configuration",id:"configuration",level:2},{value:"Webhook Configuration",id:"webhook-configuration",level:3},{value:"Security",id:"security",level:2},{value:"Environment Variables",id:"environment-variables",level:3},{value:"Webhook Security",id:"webhook-security",level:3},{value:"Usage",id:"usage",level:2},{value:"Interacting with the Agent",id:"interacting-with-the-agent",level:3},{value:"Via SMS",id:"via-sms",level:4},{value:"Via Voice Call",id:"via-voice-call",level:4},{value:"Sending Messages Through the Agent",id:"sending-messages-through-the-agent",level:3},{value:"SMS Commands",id:"sms-commands",level:4},{value:"Voice Call Commands",id:"voice-call-commands",level:4},{value:"Development",id:"development",level:2},{value:"Webhook Setup",id:"webhook-setup",level:2},{value:"Notes",id:"notes",level:2},{value:"Important: A2P 10DLC Registration",id:"important-a2p-10dlc-registration",level:2},{value:"License",id:"license",level:2}];function h(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"elizaosplugin-twilio",children:"@elizaos/plugin-twilio"})}),"\n",(0,s.jsx)(n.p,{children:"A Twilio plugin for ElizaOS that enables SMS and voice call capabilities."}),"\n",(0,s.jsx)(n.h2,{id:"features",children:"Features"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"\ud83d\udcf1 SMS Messaging"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Send SMS messages"}),"\n",(0,s.jsx)(n.li,{children:"Receive and respond to SMS messages"}),"\n",(0,s.jsx)(n.li,{children:"Natural conversation handling"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"\ud83d\udcde Voice Calls"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Make outgoing calls"}),"\n",(0,s.jsx)(n.li,{children:"Receive incoming calls"}),"\n",(0,s.jsx)(n.li,{children:"Natural voice conversations using ElevenLabs"}),"\n",(0,s.jsx)(n.li,{children:"Speech recognition and response"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"bun add @elizaos-plugins/plugin-twilio\n"})}),"\n",(0,s.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Add the plugin to your character file:"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "name": "your_character",\n  "plugins": ["@elizaos-plugins/plugin-twilio"],\n  "settings": {\n    "actions": {\n      "enabled": ["sms", "call"]\n    },\n    "voice": {\n      "elevenlabs": {\n        "voiceId": "your_voice_id",\n        "stability": 0.3,\n        "similarityBoost": 0.5,\n        "style": 0.5,\n        "useSpeakerBoost": false\n      }\n    }\n  }\n}\n'})}),"\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsxs)(n.li,{children:["Set up environment variables in your ",(0,s.jsx)(n.code,{children:".env"})," file:"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Twilio Configuration\nTWILIO_ACCOUNT_SID=your_account_sid\nTWILIO_AUTH_TOKEN=your_auth_token\nTWILIO_PHONE_NUMBER=your_twilio_phone_number\nTWILIO_CHARACTER=character.json\n\n# Webhook Configuration\nWEBHOOK_PORT=3004\nWEBHOOK_BASE_URL=your_webhook_url\n\n# ElevenLabs (for voice synthesis)\nELEVENLABS_XI_API_KEY=your_elevenlabs_api_key\n"})}),"\n",(0,s.jsx)(n.h3,{id:"webhook-configuration",children:"Webhook Configuration"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Set up your webhook base URL in ",(0,s.jsx)(n.code,{children:".env"}),":"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-env",children:"WEBHOOK_BASE_URL=your_webhook_url  # e.g., https://your-domain.com\nWEBHOOK_PORT=3004\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsxs)(n.li,{children:["Configure webhooks in Twilio Console:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Go to ",(0,s.jsx)(n.a,{href:"https://console.twilio.com",children:"Twilio Console"})]}),"\n",(0,s.jsx)(n.li,{children:"Navigate to Phone Numbers - Manage - Active numbers"}),"\n",(0,s.jsx)(n.li,{children:"Select your Twilio phone number"}),"\n",(0,s.jsxs)(n.li,{children:['Under "Voice & Fax" configuration:',"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:['Set "A Call Comes In" webhook to: ',(0,s.jsx)(n.code,{children:"[WEBHOOK_BASE_URL]/webhook/voice"})]}),"\n",(0,s.jsx)(n.li,{children:"Method: HTTP POST"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:['Under "Messaging" configuration:',"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:['Set "A Message Comes In" webhook to: ',(0,s.jsx)(n.code,{children:"[WEBHOOK_BASE_URL]/webhook/sms"})]}),"\n",(0,s.jsx)(n.li,{children:"Method: HTTP POST"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Example webhook URLs:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Voice: https://your-domain.com/webhook/voice\nSMS: https://your-domain.com/webhook/sms\n"})}),"\n",(0,s.jsx)(n.p,{children:"For local development:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Use ngrok to expose your local server:"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"ngrok http 3004\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsxs)(n.li,{children:["Update your ",(0,s.jsx)(n.code,{children:"WEBHOOK_BASE_URL"})," with the ngrok URL"]}),"\n",(0,s.jsx)(n.li,{children:"Update webhook URLs in Twilio Console with the ngrok URL"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"security",children:"Security"}),"\n",(0,s.jsx)(n.h3,{id:"environment-variables",children:"Environment Variables"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Never commit ",(0,s.jsx)(n.code,{children:".env"})," files to version control"]}),"\n",(0,s.jsx)(n.li,{children:"Use secrets management in production (AWS Secrets Manager, Vault)"}),"\n",(0,s.jsx)(n.li,{children:"Rotate credentials regularly"}),"\n",(0,s.jsx)(n.li,{children:"Use environment-specific configurations"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"webhook-security",children:"Webhook Security"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Enable Twilio's request validation"}),"\n",(0,s.jsx)(n.li,{children:"Use HTTPS for webhook endpoints"}),"\n",(0,s.jsx)(n.li,{children:"Implement rate limiting"}),"\n",(0,s.jsx)(n.li,{children:"Set up IP allowlisting for Twilio IPs"}),"\n",(0,s.jsx)(n.li,{children:"Monitor webhook access logs"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,s.jsx)(n.h3,{id:"interacting-with-the-agent",children:"Interacting with the Agent"}),"\n",(0,s.jsx)(n.p,{children:"You can interact with the agent in two ways:"}),"\n",(0,s.jsx)(n.h4,{id:"via-sms",children:"Via SMS"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Save the Twilio phone number: TWILIO_PHONE_NUMBER"}),"\n",(0,s.jsx)(n.li,{children:"Send a text message to start a conversation"}),"\n",(0,s.jsx)(n.li,{children:"The agent will respond based on its character configuration"}),"\n",(0,s.jsx)(n.li,{children:"Continue the natural conversation via SMS"}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"via-voice-call",children:"Via Voice Call"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Call the Twilio phone number: TWILIO_PHONE_NUMBER"}),"\n",(0,s.jsx)(n.li,{children:"The agent will answer and start a conversation"}),"\n",(0,s.jsx)(n.li,{children:"Speak naturally - the agent uses speech recognition"}),"\n",(0,s.jsx)(n.li,{children:"The agent will respond with natural voice using ElevenLabs"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"sending-messages-through-the-agent",children:"Sending Messages Through the Agent"}),"\n",(0,s.jsx)(n.p,{children:"Best Practices:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:'For direct messages, use "saying" or "telling"'}),"\n",(0,s.jsx)(n.li,{children:'For AI-generated content, use "about"'}),"\n",(0,s.jsx)(n.li,{children:'Always include the full phone number with "+" prefix'}),"\n",(0,s.jsx)(n.li,{children:"Keep messages concise (160 char limit)"}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"sms-commands",children:"SMS Commands"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Send an SMS to +1234567890 saying Hello world!\nSend SMS to +1234567890 about the weather forecast\n"})}),"\n",(0,s.jsx)(n.h4,{id:"voice-call-commands",children:"Voice Call Commands"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Call +1234567890 and tell them about the latest updates\nCall +1234567890 to say that we need to schedule a meeting\n"})}),"\n",(0,s.jsx)(n.h2,{id:"development",children:"Development"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Install dependencies\nbun install\n\n# Build the plugin\nbun build\n"})}),"\n",(0,s.jsx)(n.h2,{id:"webhook-setup",children:"Webhook Setup"}),"\n",(0,s.jsx)(n.p,{children:"For local development, use ngrok or similar to expose your webhook:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"ngrok http 3004\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Then update your ",(0,s.jsx)(n.code,{children:"WEBHOOK_BASE_URL"})," in ",(0,s.jsx)(n.code,{children:".env"})," with the ngrok URL."]}),"\n",(0,s.jsx)(n.h2,{id:"notes",children:"Notes"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Voice calls require ElevenLabs API key for text-to-speech"}),"\n",(0,s.jsx)(n.li,{children:"Uses Twilio's built-in speech recognition capabilities for speech-to-text"}),"\n",(0,s.jsx)(n.li,{children:"Messages are limited to 160 characters for SMS"}),"\n",(0,s.jsx)(n.li,{children:"Voice responses are optimized for natural conversation flow"}),"\n",(0,s.jsx)(n.li,{children:"All phone numbers must be in international format (+1234567890)"}),"\n",(0,s.jsx)(n.li,{children:"The agent's responses are based on its configured character personality"}),"\n",(0,s.jsx)(n.li,{children:"Incoming messages and calls are handled automatically through webhooks"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"important-a2p-10dlc-registration",children:"Important: A2P 10DLC Registration"}),"\n",(0,s.jsx)(n.p,{children:"If you're using US phone numbers (+1) for SMS messaging, you must complete A2P 10DLC registration:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Brand Registration"}),": Required one-time process through Twilio's Trust Hub"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Campaign Registration"}),": Required for AI chatbot/automated messaging use case"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Messaging Service"}),": Must link campaign to a Messaging Service with your phone numbers"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Note: Voice-only functionality does not require A2P registration. Registration is mandatory for any SMS functionality to US numbers as of September 1, 2023."}),"\n",(0,s.jsxs)(n.p,{children:["See ",(0,s.jsx)(n.a,{href:"https://www.twilio.com/docs/messaging/compliance/a2p-10dlc",children:"Twilio's A2P 10DLC Documentation"})," for registration process."]}),"\n",(0,s.jsx)(n.h2,{id:"license",children:"License"}),"\n",(0,s.jsx)(n.p,{children:"This plugin is part of the Eliza project. See the main project repository for license information."})]})}function d(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}}}]);