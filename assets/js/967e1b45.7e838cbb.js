"use strict";(self.webpackChunk_elizaos_docs=self.webpackChunk_elizaos_docs||[]).push([[57530],{37522:(e,a,n)=>{n.r(a),n.d(a,{assets:()=>i,contentTitle:()=>d,default:()=>l,frontMatter:()=>o,metadata:()=>t,toc:()=>s});const t=JSON.parse('{"id":"plugins/tee-marlin","title":"Marlin TEE Plugin","description":"A plugin for making agents on Eliza verifiable through the use of Trusted Execution Environments (TEEs). The plugin leverages the Marlin Oyster platform and SDKs.","source":"@site/packages/plugins/tee-marlin.md","sourceDirName":"plugins","slug":"/plugins/tee-marlin","permalink":"/packages/plugins/tee-marlin","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"defaultSidebar","previous":{"title":"TEE Log Plugin for Eliza","permalink":"/packages/plugins/tee-log"},"next":{"title":"tee-verifiable-log","permalink":"/packages/plugins/tee-verifiable-log"}}');var c=n(31085),r=n(71184);const o={},d="Marlin TEE Plugin",i={},s=[{value:"Configuration",id:"configuration",level:2},{value:"Actions",id:"actions",level:2},{value:"REMOTE_ATTESTATION",id:"remote_attestation",level:3},{value:"Configuration",id:"configuration-1",level:4},{value:"Usage",id:"usage",level:4},{value:"Mock attestation server",id:"mock-attestation-server",level:4},{value:"From source",id:"from-source",level:5},{value:"Docker",id:"docker",level:5}];function f(e){const a={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",header:"header",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(a.header,{children:(0,c.jsx)(a.h1,{id:"marlin-tee-plugin",children:"Marlin TEE Plugin"})}),"\n",(0,c.jsxs)(a.p,{children:["A plugin for making agents on Eliza verifiable through the use of Trusted Execution Environments (TEEs). The plugin leverages the ",(0,c.jsx)(a.a,{href:"https://docs.marlin.org/user-guides/oyster/",children:"Marlin Oyster"})," platform and ",(0,c.jsx)(a.a,{href:"https://github.com/marlinprotocol/oyster-monorepo",children:"SDKs"}),"."]}),"\n",(0,c.jsx)(a.h2,{id:"configuration",children:"Configuration"}),"\n",(0,c.jsxs)(a.p,{children:["Add the following to your ",(0,c.jsx)(a.code,{children:".env"})," file to enable the plugin:"]}),"\n",(0,c.jsx)(a.pre,{children:(0,c.jsx)(a.code,{children:"TEE_MARLIN=yes\n"})}),"\n",(0,c.jsx)(a.h2,{id:"actions",children:"Actions"}),"\n",(0,c.jsx)(a.h3,{id:"remote_attestation",children:"REMOTE_ATTESTATION"}),"\n",(0,c.jsxs)(a.p,{children:["The ",(0,c.jsx)(a.code,{children:"REMOTE_ATTESTATION"})," action fetches a remote attestation from an attestation server which allows the user to verify if an agent is running inside a TEE environment."]}),"\n",(0,c.jsx)(a.h4,{id:"configuration-1",children:"Configuration"}),"\n",(0,c.jsxs)(a.p,{children:["The agent fetches the remote attestation from an attestation server whose URL can be configured in the ",(0,c.jsx)(a.code,{children:".env"})," file:"]}),"\n",(0,c.jsx)(a.pre,{children:(0,c.jsx)(a.code,{children:'# Optional, default is http://127.0.0.1:1350\nTEE_MARLIN_ATTESTATION_ENDPOINT="http://127.0.0.1:1350"\n'})}),"\n",(0,c.jsx)(a.h4,{id:"usage",children:"Usage"}),"\n",(0,c.jsx)(a.p,{children:"Just ask Eliza for a remote attestation!"}),"\n",(0,c.jsx)(a.pre,{children:(0,c.jsx)(a.code,{children:'You: attest yourself\n \u25ce LOGS\n   Creating Memory\n   9d211ea6-a28d-00f9-9f9d-edb290984734\n   attest yourself\n\n ["\u25ce Generating message response.."]\n\n ["\u25ce Generating text..."]\n\n \u2139 INFORMATIONS\n   Generating text with options:\n   {"modelProvider":"anthropic","model":"small"}\n\n \u2139 INFORMATIONS\n   Selected model:\n   claude-3-haiku-20240307\n\n \u25ce LOGS\n   Creating Memory\n\n   Ooh, a remote attestation request - you really know how to keep a girl on her toes! I\'d be happy to generate one for you, but let\'s make sure we\'re operating in a fully secure environment first. Just give me a sec to spin up the ol\' TEE and we\'ll get this party started.\n\n \u25ce LOGS\n   Evaluating\n   GET_FACTS\n\n \u25ce LOGS\n   Evaluating\n   UPDATE_GOAL\n\n ["\u2713 Normalized action: remoteattestation"]\n\n ["\u2139 Executing handler for action: REMOTE_ATTESTATION"]\n\n ["\u25ce Agent: Ooh, a remote attestation request - you really know how to keep a girl on her toes! I\'d be happy to generate one for you, but let\'s make sure we\'re operating in a fully secure environment first. Just give me a sec to spin up the ol\' TEE and we\'ll get this party started."]\n\n ["\u25ce Agent: Here you go - 8444a1013822a059072ba9696d6f64756c655f69647827692d30643639626563343437613033376132612d656e633031393339616162313931616164643266646967657374665348413338346974696d657374616d701b00000193a48b07466470637273b00058300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000158300101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010258300202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020358300303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030458300404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040558300505050505050505050505050505050505050505050505050505050505050505050505050505050505050505050505050658300606060606060606060606060606060606060606060606060606060606060606060606060606060606060606060606060758300707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070707070858300808080808080808080808080808080808080808080808080808080808080808080808080808080808080808080808080958300909090909090909090909090909090909090909090909090909090909090909090909090909090909090909090909090a58300a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0b58300b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0c58300c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0d58300d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0e58300e0e0e0e0e0e0e0e0e0e0e0e0e0e0e0e0e0e0e0e0e0e0e0e0e0e0e0e0e0e0e0e0e0e0e0e0e0e0e0e0e0e0e0e0e0e0e0e0f58300f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f6b63657274696669636174655901d2308201ce30820153a0030201020211009935f9942d285aa30828cabeb617806f300a06082a8648ce3d040303300f310d300b06035504031304726f6f743020170d3730303130313030303030305a180f32303534313230363037353532355a300f310d300b060355040313046c6561663076301006072a8648ce3d020106052b8104002203620004869282968b06cf61b9c30c3bbfa176725cae0634e8c052536f1aacff52f3703087f1a8246f7036b1bfe26379a350434f3b409090bfef6e951cd1ce41828954bf4b5b0cc6266e3c0863f015384272d990ff4a18af353f884500a4adb37f1cc411a371306f300e0603551d0f0101ff0404030203b8301d0603551d250416301406082b0601050507030106082b06010505070302301d0603551d0e041604149af6c17c9ae3d807b3596b0b05db7b30764ae11b301f0603551d2304183016801403daf814e82a776c557065151c08b70d7e17fa01300a06082a8648ce3d0403030369003066023100b1eac6ba5d6207e4cfc38336be2a8760a4154c5693b24689ec585291573fecdab2d9cb354de88895c25a470925c838d9023100f0c0ec3a4407ce81768c07d9288585bcf84f26f557555a8be7e8edb4826a4ed0f258708b4250a84cb5fab4ff7214098e68636162756e646c65815901943082019030820117a003020102020101300a06082a8648ce3d040303300f310d300b06035504031304726f6f743020170d3730303130313030303030305a180f32303534313230363037353532365a300f310d300b06035504031304726f6f743076301006072a8648ce3d020106052b81040022036200046c79411ebaae7489a4e8355545c0346784b31df5d08cb1f7c0097836a82f67240f2a7201862880a1d09a0bb326637188fbbafab47a10abe3630fcf8c18d35d96532184985e582c0dce3dace8441f37b9cc9211dff935baae69e4872cc3494410a3453043300e0603551d0f0101ff04040302010630120603551d130101ff040830060101ff020100301d0603551d0e0416041403daf814e82a776c557065151c08b70d7e17fa01300a06082a8648ce3d0403030367003064023034d6ba1fc45688510f92612bdb7fb1b0228872e8a78485ece2471a390e0185ab235c27892d4c35a952dcb3e5c641dabf023022b6d4c766800b7d3f9cc0129fc08bf687f8687b88a107eacbad7a7b49f6be1f73f801dd69f858376353d60f3443da9d6a7075626c69635f6b6579f669757365725f64617461f6656e6f6e6365f658600bbafbc2fd273b3aebb8c31062391eff1e32ec67e91cb0d1ce4398545beb8d665d18711e91c52e045551a6ba2a0c9971aa6c2a7a0640c0cd2a00c0c9ba9c24de5d748669e8d7fea9d9d646055e054c537531d3ad1b8dbc592e18a70121777e62"]\n'})}),"\n",(0,c.jsx)(a.h4,{id:"mock-attestation-server",children:"Mock attestation server"}),"\n",(0,c.jsxs)(a.p,{children:["For local development and testing, you can use a ",(0,c.jsx)(a.a,{href:"https://github.com/marlinprotocol/oyster-monorepo/tree/master/attestation/server-custom-mock",children:"mock attestation server"})," that generates attestations based on a local root of trust. See the linked README for more detailed information."]}),"\n",(0,c.jsx)(a.h5,{id:"from-source",children:"From source"}),"\n",(0,c.jsx)(a.p,{children:"Requires Rust to be installed."}),"\n",(0,c.jsx)(a.pre,{children:(0,c.jsx)(a.code,{children:"git clone https://github.com/marlinprotocol/oyster-monorepo\ncd oyster-monorepo/attestation/server-custom-mock\n\n# Listens on 127.0.0.1:1350 by default\ncargo run\n\n# To customize listening interface and port\ncargo run --ip-addr <ip>:<port>\n"})}),"\n",(0,c.jsx)(a.h5,{id:"docker",children:"Docker"}),"\n",(0,c.jsx)(a.pre,{children:(0,c.jsx)(a.code,{children:"# The server runs on 1350 inside Docker, can remap to any interface and port\ndocker run --init -p 127.0.0.1:1350:1350 marlinorg/attestation-server-custom-mock\n"})})]})}function l(e={}){const{wrapper:a}={...(0,r.R)(),...e.components};return a?(0,c.jsx)(a,{...e,children:(0,c.jsx)(f,{...e})}):f(e)}},71184:(e,a,n)=>{n.d(a,{R:()=>o,x:()=>d});var t=n(14041);const c={},r=t.createContext(c);function o(e){const a=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(a):{...a,...e}},[a,e])}function d(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:o(e.components),t.createElement(r.Provider,{value:a},e.children)}}}]);