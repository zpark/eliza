"use strict";(self.webpackChunk_elizaos_docs=self.webpackChunk_elizaos_docs||[]).push([[76218],{15370:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>d,frontMatter:()=>t,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"plugins/cosmos","title":"@elizaos/plugin-cosmos","description":"This plugin provides actions and utilities for interacting with Cosmos-compatible blockchains.","source":"@site/packages/plugins/cosmos.md","sourceDirName":"plugins","slug":"/plugins/cosmos","permalink":"/packages/plugins/cosmos","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"defaultSidebar","previous":{"title":"@elizaos/plugin-conflux","permalink":"/packages/plugins/conflux"},"next":{"title":"@elizaos/plugin-cronos","permalink":"/packages/plugins/cronos"}}');var o=s(31085),r=s(71184);const t={},a="@elizaos/plugin-cosmos",c={},l=[{value:"Development",id:"development",level:2},{value:"Configuration",id:"configuration",level:2},{value:"Default Setup",id:"default-setup",level:3},{value:"Using the Cosmos Helper Character",id:"using-the-cosmos-helper-character",level:3},{value:"Custom chain configuration",id:"custom-chain-configuration",level:3},{value:"Actions",id:"actions",level:2},{value:"Token Transfer",id:"token-transfer",level:3},{value:"Example Prompts",id:"example-prompts",level:4},{value:"Token IBC Transfer",id:"token-ibc-transfer",level:3},{value:"Example Prompts",id:"example-prompts-1",level:4},{value:"Token IBC Swap",id:"token-ibc-swap",level:3},{value:"Example prompts:",id:"example-prompts-2",level:4},{value:"Default flow",id:"default-flow",level:5},{value:"Special case handling",id:"special-case-handling",level:5},{value:"Contribution",id:"contribution",level:2},{value:"Running Tests",id:"running-tests",level:3}];function h(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"elizaosplugin-cosmos",children:(0,o.jsx)(n.code,{children:"@elizaos/plugin-cosmos"})})}),"\n",(0,o.jsx)(n.p,{children:"This plugin provides actions and utilities for interacting with Cosmos-compatible blockchains."}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"development",children:"Development"}),"\n",(0,o.jsxs)(n.p,{children:["Prepare Eliza according to README\nAdd variables required for ",(0,o.jsx)(n.code,{children:"@elizaos/plugin-cosmos"})," :"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"COSMOS_RECOVERY_PHRASE=your recovery phrase words\nCOSMOS_AVAILABLE_CHAINS=chain1,chain2,chain3\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Ensure the appropriate environment variables are added for the plugin. If they are correctly configured, the project will run with ",(0,o.jsx)(n.code,{children:"@elizaos/plugin-cosmos"})]}),"\n",(0,o.jsx)(n.p,{children:"Run Eliza"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"bun run dev\n"})}),"\n",(0,o.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,o.jsx)(n.h3,{id:"default-setup",children:"Default Setup"}),"\n",(0,o.jsxs)(n.p,{children:["To start using the plugin, you need to provide your ",(0,o.jsx)(n.strong,{children:"Cosmos account recovery phrases"})," and the list of ",(0,o.jsx)(n.strong,{children:"available chains"}),". Add the following to your ",(0,o.jsx)(n.code,{children:".env"})," file:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-env",children:"COSMOS_RECOVERY_PHRASE=your recovery phrase words\nCOSMOS_AVAILABLE_CHAINS=chain1,chain2,chain3\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Ensure that the chain names in ",(0,o.jsx)(n.code,{children:"COSMOS_AVAILABLE_CHAINS"})," match the identifiers from the ",(0,o.jsx)(n.a,{href:"https://github.com/cosmos/chain-registry",children:"chain-registry"})," library for compatibility."]}),"\n",(0,o.jsx)(n.h3,{id:"using-the-cosmos-helper-character",children:"Using the Cosmos Helper Character"}),"\n",(0,o.jsxs)(n.p,{children:["The plugin includes a pre-configured character, ",(0,o.jsx)(n.code,{children:"cosmosHelper.character.json"}),", optimized for Cosmos-related operations. This character enhances interaction by:"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Handling repeated prompts effectively."}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Requesting confirmation before executing detected actions."}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["To use the character, pass it with the ",(0,o.jsx)(n.code,{children:"--characters"})," flag:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"--characters='../characters/cosmosHelper.character.json'\n"})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h3,{id:"custom-chain-configuration",children:"Custom chain configuration"}),"\n",(0,o.jsxs)(n.p,{children:["Plugin allows you to pass you custom chain config to ",(0,o.jsx)(n.code,{children:"createCosmosPlugin"})," function invoked in ",(0,o.jsx)(n.code,{children:"../agent/src/index"}),"."]}),"\n",(0,o.jsxs)(n.p,{children:["Your custom configuration fulfills the interfaces from ",(0,o.jsx)(n.code,{children:"chain-registry"})]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:'import  type { assets, chains } from  "chain-registry";\n\nexport  interface  ICosmosPluginCustomChainData {\n\tchainData: (typeof  chains)[number];\n\tassets: (typeof  assets)[number];\n}\n\nexport  interface  ICosmosPluginOptions {\n\tcustomChainData?: ICosmosPluginCustomChainData[];\n}\n'})}),"\n",(0,o.jsx)(n.h2,{id:"actions",children:"Actions"}),"\n",(0,o.jsx)(n.h3,{id:"token-transfer",children:"Token Transfer"}),"\n",(0,o.jsx)(n.p,{children:"This plugin supports a token transfer action, which allows users to transfer tokens between addresses on Cosmos-compatible blockchains. The action prompts for confirmation to ensure secure execution."}),"\n",(0,o.jsx)(n.h4,{id:"example-prompts",children:"Example Prompts"}),"\n",(0,o.jsx)(n.p,{children:"Below are examples of how the transfer action can be initiated and confirmed:"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Example"})}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"User input:"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"Make transfer 0.0001 ATOM to cosmos1nk3uuw6zt5t5aqw5fvujkd54sa4uws9xv465ad on cosmoshubtestnet.\n"})}),"\n",(0,o.jsxs)(n.ol,{start:"2",children:["\n",(0,o.jsx)(n.li,{children:"Plugin response:"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"Do you confirm the transfer action?\n"})}),"\n",(0,o.jsxs)(n.ol,{start:"3",children:["\n",(0,o.jsx)(n.li,{children:"User confirmation:"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"Yes\n"})}),"\n",(0,o.jsxs)(n.ol,{start:"4",children:["\n",(0,o.jsx)(n.li,{children:"Action executed."}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"token-ibc-transfer",children:"Token IBC Transfer"}),"\n",(0,o.jsx)(n.p,{children:"This plugin supports a token transfer action, which allows users to transfer tokens between addresses on Cosmos-compatible blockchains between different chains."}),"\n",(0,o.jsx)(n.h4,{id:"example-prompts-1",children:"Example Prompts"}),"\n",(0,o.jsx)(n.p,{children:"Below are examples of how the ibc transfer action can be initiated and confirmed:"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Example"})}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"User input:"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"Make an IBC transfer 0.0001 OSMO to neutron1nk3uuw6zt5t5aqw5fvujkd54sa4uws9xg2nk82 from osmosistestnet to neutrontestnet\n"})}),"\n",(0,o.jsxs)(n.ol,{start:"2",children:["\n",(0,o.jsx)(n.li,{children:"Plugin response:"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"Before making the IBC transfer, I would like to confirm the details. You would like to transfer 0.0001 OSMO from osmosistestnet to neutrontestnet, specifically to the address neutron1nk3uuw6zt5t5aqw5fvujkd54sa4uws9xg2nk82, is that correct?\n"})}),"\n",(0,o.jsxs)(n.ol,{start:"3",children:["\n",(0,o.jsx)(n.li,{children:"User confirmation:"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"Yes\n"})}),"\n",(0,o.jsxs)(n.ol,{start:"4",children:["\n",(0,o.jsx)(n.li,{children:"Action executed."}),"\n"]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h3,{id:"token-ibc-swap",children:"Token IBC Swap"}),"\n",(0,o.jsx)(n.p,{children:"This action allows swapping tokens between chains. The implementation of swapping is based on the Skip API and uses the @skip-go/client library.\nTo place transactions on chains, they must first be added to the env file. Specifically:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-env",children:"COSMOS_AVAILABLE_CHAINS=osmosis,neutron,axelar,cosmoshub,terra2,pryzm\n"})}),"\n",(0,o.jsx)(n.p,{children:"Keep in mind that most swaps require intermediate chains. These chains must also be included in the env file."}),"\n",(0,o.jsxs)(n.p,{children:["You can check which chains are supported by the Skip API and this plugin here: ",(0,o.jsx)(n.a,{href:"https://docs.skip.build/",children:"Skip API Documentation"}),"."]}),"\n",(0,o.jsx)(n.p,{children:"The list below contains all supported chains extracted from the Skip API:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-env",children:"COSMOS_AVAILABLE_CHAINS=terra2,quicksilver,coreum,regen,mars,passage,dhealth,lumnetwork,provenance,chihuahua,pryzm,fetchhub,comdex,kyve,xpla,umee,celestia,osmosis,empowerchain,migaloo,dymension,kujira,self,humans,gitopia,agoric,doravota,int3face,quasar,gravitybridge,kava,sifchain,seda,shentu,decentr,cronos,carbon,stride,haqq,jackal,omniflixhub,noble,sentinel,nolus,odin,assetmantle,dydx,beezee,axelar,nois,mantrachain,elys,crescent,synternet,xion,source,akash,sei,canto,teritori,stargaze,titan,aura,evmos,archway,gateway,cheqd,milkyway,nibiru,cosmoshub,ununifi,nyx,bitsong,cryptoorgchain,neutron,penumbra,terra,shido,sommelier,saga,secretnetwork,chain4energy,juno,andromeda,planq,lava,oraichain,injective,persistence,composable\n"})}),"\n",(0,o.jsx)(n.h4,{id:"example-prompts-2",children:"Example prompts:"}),"\n",(0,o.jsx)(n.h5,{id:"default-flow",children:"Default flow"}),"\n",(0,o.jsx)(n.p,{children:"An example of the default flow of a swap request:"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"User input:"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"    Swap 10 OSMO on osmosis to ATOM on cosmoshub\n"})}),"\n",(0,o.jsxs)(n.ol,{start:"2",children:["\n",(0,o.jsx)(n.li,{children:"Agent asks for confirmation:"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"About to swap 10 OSMO on osmosis to ATAOM on cosmoshub. I would like to confirm the transaction details. Please confirm that you would like to proceed with the swap.\n"})}),"\n",(0,o.jsxs)(n.ol,{start:"3",children:["\n",(0,o.jsx)(n.li,{children:"User confiramation:"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"confirming / yes\n"})}),"\n",(0,o.jsxs)(n.ol,{start:"4",children:["\n",(0,o.jsx)(n.li,{children:"Agent calls action and responds after completing:"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"Successfully swapped 10 OSMO tokens to ATOM on chain cosmoshub.\nTransaction Hash: E84F36D6EEFAA6D7B70827F34EDAB83258BB86EFE33AEA1F4559D00B30CD3B50\n"})}),"\n",(0,o.jsx)(n.h5,{id:"special-case-handling",children:"Special case handling"}),"\n",(0,o.jsx)(n.p,{children:"An example of a flow when there is more than one token with the same symbol on the destination chain (e.g., multiple USDC tokens):"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"User input:"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"Swap 10 OSMO on osmosis to ATOM on cosmoshub\n"})}),"\n",(0,o.jsxs)(n.ol,{start:"2",children:["\n",(0,o.jsx)(n.li,{children:"Agent asks for confirmation:"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"About to swap 10 OSMO on osmosis to ATAOM on cosmoshub. I would like to confirm the transaction details. Please confirm that you would like to proceed with the swap.\n"})}),"\n",(0,o.jsxs)(n.ol,{start:"3",children:["\n",(0,o.jsx)(n.li,{children:"User confirmation:"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"confirming / yes\n"})}),"\n",(0,o.jsxs)(n.ol,{start:"4",children:["\n",(0,o.jsx)(n.li,{children:"Model response:"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"I will now initiate the swap of 10 OSMO on the Osmosis chain to USDC on the Axelar chain. Please wait for the transaction to complete. If you need to swap more assets, feel free to let me know.\n\nError occured. Swap was not performed. Please provide denom for coin: USDC, on Chain Name: axelar. It is necessary as the symbol USDC is not unique among coins on chain axelar.\nSelect one from found assets:\nSymbol: USDC Desc: Circle's stablecoin on Axelar Denom: uusdc,\nSymbol: USDC Desc: Circle's stablecoin from Polygon on Axelar Denom: polygon-uusdc,\nSymbol: USDC Desc: Circle's stablecoin from Avalanche on Axelar Denom: avalanche-uusdc\n"})}),"\n",(0,o.jsxs)(n.ol,{start:"5",children:["\n",(0,o.jsx)(n.li,{children:"User response:"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"Swap 10 OSMO on osmosis to USDC with denom uusdc on axelar\n"})}),"\n",(0,o.jsxs)(n.ol,{start:"6",children:["\n",(0,o.jsx)(n.li,{children:"Action call and agent response:"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"Successfully swapped 10 OSMO tokens to USDC uusdc on chain axelar.\nTransaction Hash: E84F36D6EEFAA6D7B70827F34EDAB83258BB86EFE33AEA1F4559D00B30CD3B50\n"})}),"\n",(0,o.jsx)(n.h2,{id:"contribution",children:"Contribution"}),"\n",(0,o.jsx)(n.p,{children:"The plugin includes comprehensive tests. Before submitting any pull requests, ensure all tests pass."}),"\n",(0,o.jsx)(n.h3,{id:"running-tests",children:"Running Tests"}),"\n",(0,o.jsxs)(n.p,{children:["Navigate to the ",(0,o.jsx)(n.code,{children:"plugin-cosmos"})," directory and execute:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"bun  test\n"})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.p,{children:"This plugin simplifies Cosmos blockchain interactions and enhances productivity with its tailored features. Happy building!"})]})}function d(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(h,{...e})}):h(e)}},71184:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>a});var i=s(14041);const o={},r=i.createContext(o);function t(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:t(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);