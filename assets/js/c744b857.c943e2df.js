"use strict";(self.webpackChunk_elizaos_docs=self.webpackChunk_elizaos_docs||[]).push([[83495],{26433:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>u,frontMatter:()=>r,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"plugins/gelato","title":"plugin-gelato","description":"A powerful plugin to interact with smart contracts using Gelato Relay, supporting both ERC2771 (meta transactions) and non-ERC2771 calls on any EVM-compatible blockchain.","source":"@site/packages/plugins/gelato.md","sourceDirName":"plugins","slug":"/plugins/gelato","permalink":"/packages/plugins/gelato","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"defaultSidebar","previous":{"title":"@elizaos/plugin-fuel","permalink":"/packages/plugins/fuel"},"next":{"title":"@elizaos/plugin-genlayer","permalink":"/packages/plugins/genlayer"}}');var t=s(31085),l=s(71184);const r={},a="plugin-gelato",o={},c=[{value:"Features",id:"features",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Installation",id:"installation",level:2},{value:"Configuration",id:"configuration",level:2},{value:"Usage",id:"usage",level:2},{value:"For Non-ERC2771 (Standard Sponsored Call)",id:"for-non-erc2771-standard-sponsored-call",level:3},{value:"For ERC2771 (Meta-Transactions)",id:"for-erc2771-meta-transactions",level:3},{value:"Example Output",id:"example-output",level:3},{value:"Development",id:"development",level:2},{value:"Code Structure",id:"code-structure",level:3},{value:"Testing",id:"testing",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"License",id:"license",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"plugin-gelato",children:"plugin-gelato"})}),"\n",(0,t.jsxs)(n.p,{children:["A powerful plugin to interact with smart contracts using Gelato Relay, supporting both ",(0,t.jsx)(n.strong,{children:"ERC2771 (meta transactions)"})," and ",(0,t.jsx)(n.strong,{children:"non-ERC2771 calls"})," on any EVM-compatible blockchain."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"features",children:"Features"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Sponsored Calls"}),": Interact with contracts without needing gas on the user's side."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"ERC2771 Support"}),": Execute meta-transactions via Gelato's ",(0,t.jsx)(n.code,{children:"sponsoredCallERC2771"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Customizable"}),": Easily configure chains, contracts, and user-specific settings."]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"bun"}),"\n",(0,t.jsx)(n.li,{children:"A Gelato Relay API key"}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"bun install elizaos/plugin-gelato\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,t.jsxs)(n.p,{children:["Fill out the ",(0,t.jsx)(n.code,{children:".env"})," file in the project root with the following variables:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"GELATO_RELAY_API_KEY=<Your Gelato Relay API Key>\nEVM_PROVIDER_URL=<Your EVM provider URL (e.g., Alchemy or Infura endpoint)>\nEVM_PRIVATE_KEY=<Your wallet's private key>\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,t.jsx)(n.h3,{id:"for-non-erc2771-standard-sponsored-call",children:"For Non-ERC2771 (Standard Sponsored Call)"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-plaintext",children:'Call increment() on 0x3890DB55ff538FBF281c9152820A4a748f5D6F21 contract:\n- Function Name: increment\n- Args: []\n- Target: 0x3890DB55ff538FBF281c9152820A4a748f5D6F21\n- Chain: arbitrumSepolia\n- ABI: ["function increment()"]\n'})}),"\n",(0,t.jsx)(n.h3,{id:"for-erc2771-meta-transactions",children:"For ERC2771 (Meta-Transactions)"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-plaintext",children:'Call increment() on 0x00172f67db60E5fA346e599cdE675f0ca213b47b contract:\n- Function Name: increment\n- Args: []\n- Target: 0x00172f67db60E5fA346e599cdE675f0ca213b47b\n- Chain: arbitrumSepolia\n- ABI: ["function increment()"]\n- User: 0xYourAddressHere\n'})}),"\n",(0,t.jsx)(n.h3,{id:"example-output",children:"Example Output"}),"\n",(0,t.jsx)(n.p,{children:"For both scenarios, successful execution returns:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-plaintext",children:"\u2705 Contract interaction successful!\n- Function: increment\n- Target: 0x<contract_address>\n- Chain: arbitrumSepolia\n- Task ID: <task_id>\n- Track Status: [View Task](https://relay.gelato.digital/tasks/status/<task_id>)\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"development",children:"Development"}),"\n",(0,t.jsx)(n.h3,{id:"code-structure",children:"Code Structure"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"utils.ts"})}),":\nContains functions for ",(0,t.jsx)(n.code,{children:"sponsoredCall"})," and ",(0,t.jsx)(n.code,{children:"sponsoredCallERC2771"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"schemas.ts"})}),":\nDefines Zod schemas to validate user input."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"actions.ts"})}),":\nContains the action logic, including parsing natural language input and invoking Gelato Relay."]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"testing",children:"Testing"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Update your ",(0,t.jsx)(n.code,{children:".env"})," file with valid keys."]}),"\n",(0,t.jsxs)(n.li,{children:["Test both ",(0,t.jsx)(n.strong,{children:"ERC2771"})," and ",(0,t.jsx)(n.strong,{children:"non-ERC2771"})," prompts using the examples above."]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Ensure your ",(0,t.jsx)(n.code,{children:".env"})," file is properly configured."]}),"\n",(0,t.jsx)(n.li,{children:"Verify that your contract ABI, function name, and chain match the deployed contract details."}),"\n",(0,t.jsxs)(n.li,{children:["For ERC2771 calls, confirm the ",(0,t.jsx)(n.code,{children:"User"})," address is correct and matches the expected ",(0,t.jsx)(n.code,{children:"_msgSender"})," logic in the contract."]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"license",children:"License"}),"\n",(0,t.jsxs)(n.p,{children:["This plugin is licensed under the MIT License. See the ",(0,t.jsx)(n.code,{children:"LICENSE"})," file for details."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{})})]})}function u(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},71184:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>a});var i=s(14041);const t={},l=i.createContext(t);function r(e){const n=i.useContext(l);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),i.createElement(l.Provider,{value:n},e.children)}}}]);