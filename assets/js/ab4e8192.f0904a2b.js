"use strict";(self.webpackChunk_elizaos_docs=self.webpackChunk_elizaos_docs||[]).push([[17075],{19702:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>c,contentTitle:()=>d,default:()=>h,frontMatter:()=>o,metadata:()=>a,toc:()=>u});const a=JSON.parse('{"id":"cli/update","title":"Update Command","description":"Update your project\'s ElizaOS dependencies and CLI to the latest published versions","source":"@site/docs/cli/update.md","sourceDirName":"cli","slug":"/cli/update","permalink":"/docs/cli/update","draft":false,"unlisted":false,"editUrl":"https://github.com/elizaos/eliza/tree/develop/packages/docs/docs/cli/update.md","tags":[],"version":"current","lastUpdatedBy":"Christopher Trimboli","lastUpdatedAt":1750735899000,"sidebarPosition":11,"frontMatter":{"sidebar_position":11,"title":"Update Command","description":"Update your project\'s ElizaOS dependencies and CLI to the latest published versions","keywords":["CLI","update","dependencies","versions","packages","maintenance"],"image":"/img/cli.jpg"},"sidebar":"tutorialSidebar","previous":{"title":"Test","permalink":"/docs/cli/test"},"next":{"title":"Introduction","permalink":"/docs/rest/eliza-os-api"}}');var t=n(31085),i=n(71184),l=n(63803),r=n(53759);const o={sidebar_position:11,title:"Update Command",description:"Update your project's ElizaOS dependencies and CLI to the latest published versions",keywords:["CLI","update","dependencies","versions","packages","maintenance"],image:"/img/cli.jpg"},d="Update Command",c={},u=[{value:"Usage",id:"usage",level:2},{value:"Options",id:"options",level:2},{value:"Basic Update",id:"basic-update",level:3},{value:"Checking for Updates",id:"checking-for-updates",level:3},{value:"Scoped Updates",id:"scoped-updates",level:3},{value:"Combined Options",id:"combined-options",level:3},{value:"Update Process Explained",id:"update-process-explained",level:2},{value:"Workspace &amp; Monorepo Support",id:"workspace--monorepo-support",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"Safe Update Process",id:"safe-update-process",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"CLI Update Issues",id:"cli-update-issues",level:3},{value:"Package Update Failures",id:"package-update-failures",level:3},{value:"Build Failures After Update",id:"build-failures-after-update",level:3},{value:"Project Detection",id:"project-detection",level:2},{value:"Workspace Support",id:"workspace-support",level:2},{value:"Monorepo Detection",id:"monorepo-detection",level:3},{value:"Example with Workspaces",id:"example-with-workspaces",level:3},{value:"Version Strategy",id:"version-strategy",level:2},{value:"Staying Current",id:"staying-current",level:3},{value:"Stability Considerations",id:"stability-considerations",level:3},{value:"Related Commands",id:"related-commands",level:2}];function p(e){const s={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.header,{children:(0,t.jsx)(s.h1,{id:"update-command",children:"Update Command"})}),"\n",(0,t.jsx)(s.p,{children:"Update ElizaOS CLI and project dependencies."}),"\n",(0,t.jsxs)(l.A,{children:[(0,t.jsxs)(r.default,{value:"overview",label:"Overview & Options",default:!0,children:[(0,t.jsx)(s.h2,{id:"usage",children:"Usage"}),(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"elizaos update [options]\n"})}),(0,t.jsx)(s.h2,{id:"options",children:"Options"}),(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Option"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"-c, --check"})}),(0,t.jsx)(s.td,{children:"Check for available updates without applying them"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"--skip-build"})}),(0,t.jsx)(s.td,{children:"Skip building after updating"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"--cli"})}),(0,t.jsx)(s.td,{children:"Update only the global CLI installation (without updating packages)"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"--packages"})}),(0,t.jsx)(s.td,{children:"Update only packages (without updating the CLI)"})]})]})]})]}),(0,t.jsxs)(r.default,{value:"examples",label:"Examples",children:[(0,t.jsx)(s.h3,{id:"basic-update",children:"Basic Update"}),(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"# Update both CLI and project dependencies (default behavior)\nelizaos update\n"})}),(0,t.jsx)(s.h3,{id:"checking-for-updates",children:"Checking for Updates"}),(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"# Check for available updates without applying them\nelizaos update --check\n"})}),(0,t.jsx)(s.p,{children:(0,t.jsx)(s.em,{children:"Example Output:"})}),(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"$ elizaos update --check\n\nChecking for updates...\nCurrent CLI version: 1.3.5\nLatest CLI version: 1.4.0\n\nElizaOS packages that can be updated:\n  - @elizaos/core (1.3.0) \u2192 1.4.0\n  - @elizaos/plugin-openai (1.2.5) \u2192 1.4.0\n\nTo apply updates, run: elizaos update\n"})}),(0,t.jsx)(s.h3,{id:"scoped-updates",children:"Scoped Updates"}),(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"# Update only the global CLI\nelizaos update --cli\n\n# Update only project packages\nelizaos update --packages\n"})}),(0,t.jsx)(s.h3,{id:"combined-options",children:"Combined Options"}),(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"# Check only for CLI updates\nelizaos update --check --cli\n\n# Update packages without rebuilding afterward\nelizaos update --packages --skip-build\n"})})]}),(0,t.jsxs)(r.default,{value:"guides",label:"Guides & Concepts",children:[(0,t.jsx)(s.h2,{id:"update-process-explained",children:"Update Process Explained"}),(0,t.jsxs)(s.p,{children:["When you run ",(0,t.jsx)(s.code,{children:"elizaos update"}),", it performs the following steps:"]}),(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Detects Project Type"}),": Determines if you're in an ElizaOS project or plugin."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Checks CLI Version"}),": Compares your installed CLI version with the latest available on npm."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Scans Dependencies"}),": Finds all ",(0,t.jsx)(s.code,{children:"@elizaos/*"})," packages in your project's ",(0,t.jsx)(s.code,{children:"package.json"}),"."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Shows Update Plan"}),": Lists the packages and/or CLI that have available updates."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Prompts for Confirmation"}),": Asks for your approval before making any changes."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Updates Packages"}),": Installs the latest versions of the packages."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Rebuilds Project"}),": Compiles the updated dependencies (unless ",(0,t.jsx)(s.code,{children:"--skip-build"})," is used)."]}),"\n"]}),(0,t.jsx)(s.h3,{id:"workspace--monorepo-support",children:"Workspace & Monorepo Support"}),(0,t.jsxs)(s.p,{children:["The update command is smart enough to detect monorepo workspaces. It will automatically skip any packages that are linked via ",(0,t.jsx)(s.code,{children:"workspace:*"})," in your ",(0,t.jsx)(s.code,{children:"package.json"}),", as these should be managed within the monorepo, not from the npm registry."]}),(0,t.jsx)(s.h2,{id:"best-practices",children:"Best Practices"}),(0,t.jsx)(s.h3,{id:"safe-update-process",children:"Safe Update Process"}),(0,t.jsx)(s.p,{children:"For the smoothest update experience, follow this sequence:"}),(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Check what will be updated"}),": ",(0,t.jsx)(s.code,{children:"elizaos update --check"})]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Commit your current work"}),": ",(0,t.jsx)(s.code,{children:'git commit -am "chore: pre-update savepoint"'})]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Update the CLI first"}),": ",(0,t.jsx)(s.code,{children:"elizaos update --cli"})]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Then, update project packages"}),": ",(0,t.jsx)(s.code,{children:"elizaos update --packages"})]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Test your project thoroughly"}),": ",(0,t.jsx)(s.code,{children:"elizaos test"})]}),"\n"]})]}),(0,t.jsxs)(r.default,{value:"troubleshooting",label:"Troubleshooting",children:[(0,t.jsx)(s.h2,{id:"troubleshooting",children:"Troubleshooting"}),(0,t.jsx)(s.h3,{id:"cli-update-issues",children:"CLI Update Issues"}),(0,t.jsx)(s.p,{children:"If you have trouble updating the global CLI:"}),(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"# Check if the CLI is installed globally\nbun pm ls -g @elizaos/cli\n\n# If not, install it\nbun install -g @elizaos/cli\n\n# On macOS/Linux, you may need sudo\nsudo bun install -g @elizaos/cli\n# Or fix permissions on your bun directory\nsudo chown -R $(whoami) ~/.bun\n"})}),(0,t.jsx)(s.h3,{id:"package-update-failures",children:"Package Update Failures"}),(0,t.jsx)(s.p,{children:"If package updates fail, a clean reinstall usually fixes it:"}),(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"# Clear caches and old dependencies\nrm -rf node_modules\nbun pm cache rm\nrm bun.lockb\n\n# Reinstall everything\nbun install\n"})}),(0,t.jsx)(s.h3,{id:"build-failures-after-update",children:"Build Failures After Update"}),(0,t.jsx)(s.p,{children:"If your project fails to build after an update:"}),(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"# Try a clean build\nbun run build\n\n# Or try updating without the build step, then build manually\nelizaos update --skip-build\nbun install && bun run build\n"})})]})]}),"\n",(0,t.jsx)(s.h2,{id:"project-detection",children:"Project Detection"}),"\n",(0,t.jsx)(s.p,{children:"The update command automatically detects:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"ElizaOS Projects"}),": Updates project dependencies and rebuilds"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"ElizaOS Plugins"}),": Updates plugin dependencies and rebuilds"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Non-ElizaOS Projects"}),": Shows error message"]}),"\n"]}),"\n",(0,t.jsx)(s.h2,{id:"workspace-support",children:"Workspace Support"}),"\n",(0,t.jsx)(s.h3,{id:"monorepo-detection",children:"Monorepo Detection"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Automatically detects workspace references"}),"\n",(0,t.jsxs)(s.li,{children:["Skips packages with ",(0,t.jsx)(s.code,{children:"workspace:*"})," versions"]}),"\n",(0,t.jsx)(s.li,{children:"Shows which packages are workspace-managed"}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"example-with-workspaces",children:"Example with Workspaces"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"$ elizaos update --check\n\nElizaOS packages found:\n  - @elizaos/core (workspace:*) \u2192 Skipped (workspace reference)\n  - @elizaos/plugin-openai (1.2.5) \u2192 1.4.0\n  - @elizaos/plugin-discord (workspace:*) \u2192 Skipped (workspace reference)\n\nOnly non-workspace packages will be updated.\n"})}),"\n",(0,t.jsx)(s.h2,{id:"version-strategy",children:"Version Strategy"}),"\n",(0,t.jsx)(s.h3,{id:"staying-current",children:"Staying Current"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Update regularly to get latest features and fixes"}),"\n",(0,t.jsxs)(s.li,{children:["Use ",(0,t.jsx)(s.code,{children:"--check"})," to monitor available updates"]}),"\n",(0,t.jsx)(s.li,{children:"Subscribe to ElizaOS release notes"}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"stability-considerations",children:"Stability Considerations"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Test updates in development before production"}),"\n",(0,t.jsx)(s.li,{children:"Consider pinning versions for production deployments"}),"\n",(0,t.jsx)(s.li,{children:"Review changelogs for breaking changes"}),"\n"]}),"\n",(0,t.jsx)(s.h2,{id:"related-commands",children:"Related Commands"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.a,{href:"/docs/cli/create",children:(0,t.jsx)(s.code,{children:"create"})}),": Create new projects with latest versions"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.a,{href:"/docs/cli/start",children:(0,t.jsx)(s.code,{children:"start"})}),": Start your updated project"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.a,{href:"/docs/cli/dev",children:(0,t.jsx)(s.code,{children:"dev"})}),": Run in development mode after updates"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.a,{href:"/docs/cli/test",children:(0,t.jsx)(s.code,{children:"test"})}),": Test your project after updates"]}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(p,{...e})}):p(e)}},53759:(e,s,n)=>{n.r(s),n.d(s,{default:()=>l});n(14041);var a=n(54357);const t={tabItem:"tabItem_OMyP"};var i=n(31085);function l({children:e,hidden:s,className:n}){return(0,i.jsx)("div",{role:"tabpanel",className:(0,a.A)(t.tabItem,n),hidden:s,children:e})}},60841:(e,s,n)=>{n.d(s,{u:()=>h,v:()=>d});var a=n(14041),t=n(16622),i=n(73351),l=n(86703),r=n(46004),o=n(8821);function d(e){return a.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,a.isValidElement)(e)&&function(e){const{props:s}=e;return!!s&&"object"==typeof s&&"value"in s}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function c(e){const{values:s,children:n}=e;return(0,a.useMemo)(()=>{const e=s??function(e){return d(e).map(({props:{value:e,label:s,attributes:n,default:a}})=>({value:e,label:s,attributes:n,default:a}))}(n);return function(e){const s=(0,r.XI)(e,(e,s)=>e.value===s.value);if(s.length>0)throw new Error(`Docusaurus error: Duplicate values "${s.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[s,n])}function u({value:e,tabValues:s}){return s.some(s=>s.value===e)}function p({queryString:e=!1,groupId:s}){const n=(0,t.W6)(),i=function({queryString:e=!1,groupId:s}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!s)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return s??null}({queryString:e,groupId:s});return[(0,l.aZ)(i),(0,a.useCallback)(e=>{if(!i)return;const s=new URLSearchParams(n.location.search);s.set(i,e),n.replace({...n.location,search:s.toString()})},[i,n])]}function h(e){const{defaultValue:s,queryString:n=!1,groupId:t}=e,l=c(e),[r,d]=(0,a.useState)(()=>function({defaultValue:e,tabValues:s}){if(0===s.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!u({value:e,tabValues:s}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${s.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const n=s.find(e=>e.default)??s[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:s,tabValues:l})),[h,j]=p({queryString:n,groupId:t}),[x,g]=function({groupId:e}){const s=function(e){return e?`docusaurus.tab.${e}`:null}(e),[n,t]=(0,o.Dv)(s);return[n,(0,a.useCallback)(e=>{s&&t.set(e)},[s,t])]}({groupId:t}),m=(()=>{const e=h??x;return u({value:e,tabValues:l})?e:null})();(0,i.A)(()=>{m&&d(m)},[m]);return{selectedValue:r,selectValue:(0,a.useCallback)(e=>{if(!u({value:e,tabValues:l}))throw new Error(`Can't select invalid tab value=${e}`);d(e),j(e),g(e)},[j,g,l]),tabValues:l}}},63803:(e,s,n)=>{n.d(s,{A:()=>h});var a=n(14041),t=n(54357),i=n(91034),l=n(60841),r=n(90213);const o={tabList:"tabList_M0Dn",tabItem:"tabItem_ysIP"};var d=n(31085);function c({className:e,block:s,selectedValue:n,selectValue:a,tabValues:l}){const r=[],{blockElementScrollPositionUntilNextRender:c}=(0,i.a_)(),u=e=>{const s=e.currentTarget,t=r.indexOf(s),i=l[t].value;i!==n&&(c(s),a(i))},p=e=>{let s=null;switch(e.key){case"Enter":u(e);break;case"ArrowRight":{const n=r.indexOf(e.currentTarget)+1;s=r[n]??r[0];break}case"ArrowLeft":{const n=r.indexOf(e.currentTarget)-1;s=r[n]??r[r.length-1];break}}s?.focus()};return(0,d.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,t.A)("tabs",{"tabs--block":s},e),children:l.map(({value:e,label:s,attributes:a})=>(0,d.jsx)("li",{role:"tab",tabIndex:n===e?0:-1,"aria-selected":n===e,ref:e=>{r.push(e)},onKeyDown:p,onClick:u,...a,className:(0,t.A)("tabs__item",o.tabItem,a?.className,{"tabs__item--active":n===e}),children:s??e},e))})}function u({lazy:e,children:s,selectedValue:n}){const i=(Array.isArray(s)?s:[s]).filter(Boolean);if(e){const e=i.find(e=>e.props.value===n);return e?(0,a.cloneElement)(e,{className:(0,t.A)("margin-top--md",e.props.className)}):null}return(0,d.jsx)("div",{className:"margin-top--md",children:i.map((e,s)=>(0,a.cloneElement)(e,{key:s,hidden:e.props.value!==n}))})}function p(e){const s=(0,l.u)(e);return(0,d.jsxs)("div",{className:(0,t.A)("tabs-container",o.tabList),children:[(0,d.jsx)(c,{...s,...e}),(0,d.jsx)(u,{...s,...e})]})}function h(e){const s=(0,r.default)();return(0,d.jsx)(p,{...e,children:(0,l.v)(e.children)},String(s))}},71184:(e,s,n)=>{n.d(s,{R:()=>l,x:()=>r});var a=n(14041);const t={},i=a.createContext(t);function l(e){const s=a.useContext(i);return a.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function r(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),a.createElement(i.Provider,{value:s},e.children)}}}]);